@import "tailwindcss";

/* Theme configuration (migrated from tailwind.config.js for Tailwind v4) */
@theme {
  --color-brand-50: #eef2ff;
  --color-brand-100: #e0e7ff;
  --color-brand-200: #c7d2fe;
  --color-brand-300: #a5b4fc;
  --color-brand-400: #818cf8;
  --color-brand-500: #6366f1;
  --color-brand-600: #4f46e5;
  --color-brand-700: #4338ca;
  --color-brand-800: #3730a3;
  --color-brand-900: #312e81;
  --color-brand-950: #1e1b4b;

  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  --animate-fade-in: fadeIn 0.2s ease-out;
  --animate-slide-up: slideUp 0.2s ease-out;
  --animate-slide-in-right: slideInRight 0.2s ease-out;
  --animate-loading-bar: loadingBar 1.5s ease-in-out infinite;
  --animate-pulse-badge: pulseBadge 2s ease-in-out infinite;
  --animate-progress-countdown: progressCountdown 4s linear forwards;

  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(4px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes slideUp {
    0% { opacity: 0; transform: translateY(12px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes slideInRight {
    0% { opacity: 0; transform: translateX(16px); }
    100% { opacity: 1; transform: translateX(0); }
  }
  @keyframes loadingBar {
    0% { transform: translateX(-100%); }
    50% { transform: translateX(0%); }
    100% { transform: translateX(100%); }
  }
  @keyframes pulseBadge {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.05); }
  }
  @keyframes progressCountdown {
    0% { width: 100%; }
    100% { width: 0%; }
  }
}

@layer base {
  body {
    @apply bg-slate-50 text-slate-700 dark:bg-slate-950 dark:text-slate-300;
  }
}

@utility btn {
  @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
}
@utility btn-primary {
  @apply btn bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 shadow-sm;
}
@utility btn-secondary {
  @apply btn bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-brand-500 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700;
}
@utility btn-danger {
  @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
}
@utility btn-ghost {
  @apply btn text-slate-600 hover:bg-slate-100 focus:ring-brand-500 dark:text-slate-400 dark:hover:bg-slate-800;
}
@utility btn-sm {
  @apply px-3 py-1.5 text-xs;
}
@utility card {
  @apply bg-white rounded-xl border border-slate-200 shadow-sm dark:bg-slate-900 dark:border-slate-700;
}
@utility input {
  @apply block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder-slate-400 focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 transition-colors dark:bg-slate-800 dark:border-slate-600 dark:text-white dark:placeholder-slate-500;
}
@utility label {
  @apply block text-sm font-medium text-slate-700 mb-1 dark:text-slate-300;
}
@utility badge {
  @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
}
@utility badge-green {
  @apply badge bg-emerald-50 text-emerald-700 ring-1 ring-emerald-600/20 dark:bg-emerald-900/30 dark:text-emerald-400;
}
@utility badge-yellow {
  @apply badge bg-amber-50 text-amber-700 ring-1 ring-amber-600/20 dark:bg-amber-900/30 dark:text-amber-400;
}
@utility badge-red {
  @apply badge bg-red-50 text-red-700 ring-1 ring-red-600/20 dark:bg-red-900/30 dark:text-red-400;
}
@utility badge-blue {
  @apply badge bg-blue-50 text-blue-700 ring-1 ring-blue-600/20 dark:bg-blue-900/30 dark:text-blue-400;
}
@utility badge-gray {
  @apply badge bg-slate-100 text-slate-600 ring-1 ring-slate-500/10 dark:bg-slate-800 dark:text-slate-400;
}
@utility badge-live {
  @apply badge bg-emerald-50 text-emerald-700 ring-1 ring-emerald-600/20 dark:bg-emerald-900/30 dark:text-emerald-400 animate-pulse-badge;
}

/* React Flow overrides */
.react-flow__node {
  border-radius: 0.75rem !important;
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08) !important;
}
.dark .react-flow__node {
  border-color: #334155 !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
}
.react-flow__edge-path {
  stroke: #94a3b8 !important;
  stroke-width: 2 !important;
}
.dark .react-flow__edge-path {
  stroke: #475569 !important;
}
.react-flow__handle {
  width: 10px !important;
  height: 10px !important;
  border: 2px solid #6366f1 !important;
  background: white !important;
}
.dark .react-flow__handle {
  background: #1e293b !important;
}
.dark .react-flow__pane {
  background: #0f172a !important;
}
.dark .react-flow__controls button {
  background: #1e293b !important;
  color: #94a3b8 !important;
  border-color: #334155 !important;
}
.dark .react-flow__controls button:hover {
  background: #334155 !important;
}
.dark .react-flow__minimap {
  background: #0f172a !important;
}
.react-flow__edge-text {
  font-size: 11px;
  font-weight: 500;
}
.react-flow__selection {
  background: rgba(99, 102, 241, 0.08) !important;
  border: 1px dashed #6366f1 !important;
}

/* Scrollbar styling */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
.dark ::-webkit-scrollbar-thumb { background: #475569; }
.dark ::-webkit-scrollbar-thumb:hover { background: #64748b; }

/* Skeleton shimmer */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.skeleton-shimmer {
  background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}
.dark .skeleton-shimmer {
  background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%);
  background-size: 200% 100%;
}

/* Drag & drop flow indicators */
.flow-dropzone-active {
  outline: 2px dashed #6366f1;
  outline-offset: -2px;
  background: rgba(99, 102, 241, 0.03);
}
